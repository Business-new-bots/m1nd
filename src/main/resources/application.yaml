spring:
  application:
    name: m1nd
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:}
  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://dpg-d5sbefe3jp1c73ep952g-a.virginia-postgres.render.com:5432/m1nd_db}
    username: ${SPRING_DATASOURCE_USERNAME:m1nd_db_user}
    password: ${SPRING_DATASOURCE_PASSWORD:}
    driver-class-name: org.postgresql.Driver
  
  jpa:
    hibernate:
      ddl-auto: none  # Отключаем Hibernate DDL, используем Liquibase
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
  
  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.xml
    enabled: ${LIQUIBASE_ENABLED:true}

server:
  port: ${PORT:8080}

telegram:
  bot:
   token: ${TELEGRAM_BOT_TOKEN:}
   username: ${TELEGRAM_BOT_USERNAME:}

llm:
  api:
    use-llm-service: ${USE_LLM_SERVICE:false}  # true = LLMService, false = WorkingApiService
    provider: groq  # groq, huggingface, gemini, openai, deepseek
    deepseek:
      api-key: ${DEEPSEEK_API_KEY:}
      model: deepseek-chat  # deepseek-chat, deepseek-coder, deepseek-reasoner
      url: https://api.deepseek.com/v1/chat/completions
      temperature: 0.7
      max-tokens: 2000
    groq:
      api-key: ${GROQ_API_KEY:}
      model: llama-3.1-8b-instant
      url: https://api.groq.com/openai/v1/chat/completions
      temperature: 0.7
      max-tokens: 1500
    huggingface:
      api-key: ${HUGGINGFACE_API_KEY:}
      model: mistralai/Mistral-7B-Instruct-v0.2
      url: https://api-inference.huggingface.co/models
    gemini:
      api-key: ${GEMINI_API_KEY:}
      url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent
    openai:
      api-key: ${OPENAI_API_KEY:}
      model: gpt-3.5-turbo
      url: https://api.openai.com/v1/chat/completions
    yandexgpt:
      api-key: ${YANDEXGPT_API_KEY:}
      folder-id: ${YANDEXGPT_FOLDER_ID:b1gbedbc2gr62pqibolh}  # ID папки в Yandex Cloud
      agent-id: ${YANDEXGPT_AGENT_ID:fvtb25q1stijsl40gd54}  # ID агента (используется для справки)
      project: ${YANDEXGPT_PROJECT:b1gbedbc2gr62pqibolh}  # ID проекта (для совместимости)
      url: https://rest-assistant.api.cloud.yandex.net/v1/responses  # Responses API endpoint
      model: yandexgpt-4-lite  # Не используется для агента, оставлено для совместимости
      temperature: 0.3  # Из настроек агента
      max-tokens: 6000  # Из настроек агента

app:
  data:
    prompt-file: prompt.txt
  feedback:
    delay-minutes: ${FEEDBACK_DELAY_MINUTES:10}  # Задержка перед отправкой опроса (в минутах)
  summary:
    auto-create-enabled: ${AUTO_SUMMARY_ENABLED:true}  # Включить автоматическое создание сводки
    delay-minutes: ${SUMMARY_DELAY_MINUTES:5}  # Задержка после окончания сессии (в минутах)
  reminder:
    enabled: ${REMINDER_ENABLED:true}  # Включить/выключить напоминания
    inactive-days: ${REMINDER_INACTIVE_DAYS:5}  # Количество дней неактивности перед напоминанием
    cron: ${REMINDER_CRON:0 0 10 * * ?}  # Расписание (каждый день в 10:00)

search:
  yandex:
    api-key: ${SEARCH_YANDEX_API_KEY:}
    user: ${SEARCH_YANDEX_USER:}
    url: https://yandex.com/search/xml
